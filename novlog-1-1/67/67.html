
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>[Unity Function] 플레이어 점프 구현 Physics2D.OverlapCircle()</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">[Unity Function] 플레이어 점프 구현 Physics2D.OverlapCircle()</h2>
                                <div class="box-info">
                                    <p class="category">? Archive/GameDevelop</p>
                                    <p class="date">2021-06-25 23:33:47</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><figure class="imageblock alignCenter" data-origin-width="901" data-origin-height="901" data-filename="unitylogo.png" width="199" height="199" data-ke-mobilestyle="widthOrigin">
    <span data-lightbox="lightbox">
        <img src="./img/img.png" data-origin-width="901" data-origin-height="901" data-filename="unitylogo.png" width="199" height="199" data-ke-mobilestyle="widthOrigin" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p style="text-align: center;" data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#OverlapCircle()</span></b></p>
<p style="text-align: center;" data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#플레이어점프</span></b><span style="font-family: 'Nanum Gothic'; color: #000000; background-color: #f6e199;"></span></p>
<p style="text-align: center;" data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000; background-color: #f6e199;">*개인적인 유니티 공부 내용을 정리한 글으로, 잘못된 내용이 있을 수 있습니다.</span></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><span style="font-family: 'Noto Serif KR';"><b><span style="color: #000000;">#OverlapCircle()</span></b></span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">OverlapCircle()은 Physics2D에 정의되어 있는 메서드로, <span style="background-color: #333333; color: #ffffff;">[1] Vector2 위치 좌표 [2] 반지름(Radius) 실수 값 [3] 레이어 마스크(Layer Mask) </span>총 3개의 파라미터를 가집니다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">파라미터로 전달한 <span style="background-color: #dddddd;">[1] Vector2 위치 좌표 를 기준으로, [2] 반지름(Radius) 만큼의 원을 생성하고, 그 주변에 충돌 (Collider) 컴퍼넌트가 부착된 오브젝트가 있는지 탐색</span>합니다. <span style="background-color: #dddddd;">만약 파라미터로 [3] 레이어 마스크 를 전달 했다면, 해당 하는 레이어 마스크가 지정된 게임 오브젝트가 있는지 검사해 , 만약 탐색 범위에 존재 한다면 참(True)값을 반환</span> 합니다.</span></p>
<p><figure class="imageblock alignLeft" data-origin-width="872" data-origin-height="432" width="625" height="310" data-ke-mobilestyle="widthOrigin">
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png" data-origin-width="872" data-origin-height="432" width="625" height="310" data-ke-mobilestyle="widthOrigin" />
    </span>
    <figcaption></figcaption>
</figure></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><b><span style="font-family: 'Noto Serif KR'; color: #000000;">#플레이어 점프</span></b></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">OverlapCirce() 메서드를 이용하면, 플레이어 점프를 구현할 수 있습니다. 땅 오브젝트에 [3] 레이어 마스크 를 부착해 준 뒤, bool 형 isGround 변수를 선언해 , 반환 값을 리턴 받았습니다. 만약 isGround가 false라면 플레이어는 공중에 떠 있는 상태일 테니 점프를 제한 합니다. 또한 플레이어의 점프는 rigid.velocity를 이용했습니다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="background-color: #f6e199;"><span style="font-family: 'Nanum Gothic'; color: #000000;">* 코드</span></span></p>
<pre id="code_1624631209003" class="cs" data-ke-language="cs" data-ke-type="codeblock"><code>public class PlayerMove : MonoBehaviour
{
    Rigidbody2D rigid;

    [SerializeField] private float speed;
    [SerializeField] private float jumpPower;

    [SerializeField] Transform pos;
    [SerializeField] float Radius;
    [SerializeField] LayerMask isLayer;
    bool isGround;

    void Awake()
    {
        rigid = GetComponent&lt;Rigidbody2D&gt;();
    }

    void Update()
    {
        isGround = Physics2D.OverlapCircle(pos.position, Radius, isLayer);

        // 점프 코드
        if (isGround &amp;&amp; Input.GetKeyDown(KeyCode.Space))
        {
            rigid.velocity = Vector2.up * jumpPower;
        }

        if (isGround == false &amp;&amp; Input.GetKeyDown(KeyCode.Space))
        {
            rigid.velocity = Vector2.zero;
        }
    }

    void FixedUpdate()
    {
        // 플레이어 이동
        float pos = Input.GetAxis("Horizontal");
        rigid.velocity = new Vector2(pos * speed, rigid.velocity.y);

        // 좌우반전
        if (pos &gt; 0)
            transform.eulerAngles = new Vector3(0, 0, 0);
        else if (pos &lt; 0)
            transform.eulerAngles = new Vector3(0, 180, 0);
    }
}</code></pre>
<p><figure class="imageblock alignLeft" data-origin-width="677" data-origin-height="172" width="563" height="143" data-ke-mobilestyle="widthOrigin">
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png" data-origin-width="677" data-origin-height="172" width="563" height="143" data-ke-mobilestyle="widthOrigin" />
    </span>
    <figcaption></figcaption>
</figure><figure class="imageblock alignLeft" data-origin-width="539" data-origin-height="296" data-filename="AC_[20210625-232733].gif" width="364" height="200" data-ke-mobilestyle="widthOrigin">
    <span data-lightbox="lightbox">
        <img src="./img/img.gif" data-origin-width="539" data-origin-height="296" data-filename="AC_[20210625-232733].gif" width="364" height="200" data-ke-mobilestyle="widthOrigin" />
    </span>
    <figcaption></figcaption>
</figure></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
