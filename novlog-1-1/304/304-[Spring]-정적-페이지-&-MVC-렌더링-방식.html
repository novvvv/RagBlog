
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>[Spring] 정적 페이지 & MVC 렌더링 방식</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">[Spring] 정적 페이지 & MVC 렌더링 방식</h2>
                                <div class="box-info">
                                    <p class="category">Back-end/Spring</p>
                                    <p class="date">2024-03-24 14:46:58</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <h2 data-ke-size="size26"><span style="font-family: 'Nanum Gothic'; color: #000000;">#1 정적 페이지 방식&nbsp;</span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #dddddd;">정적 페이지 방식</span>은 <b>서버 측에서 html 파일을 따로 가공하지 않고 그대로 페이지에 렌더링하는 방식이다</b>. 따라서 매우간단하게 사용할 수 있으나, 페이지 변경이 불가능하다.&nbsp;</span></p>
<p><figure class="imageblock alignLeft" width="355" height="98" >
    <span data-lightbox="lightbox">
        <img src="./img/img.png" width="355" height="98"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b>src/resources/static</b> 경로에 해당 정적 페이지 파일을 위치해 두면 Spring 프레임워크가 자동으로 정적 페이지를 탐색해 화면에 출력해 준다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #dddddd; background-color: #333333;">SpringBootApplication</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">@SpringBootApplication 이노테이션은 <b>스프링 프레임 워크의 진입점</b>을 의미하며, 스프링 프로젝트를 처음 생성하면 다음과 같은 코드가 작성된다.</span></p>
<pre id="code_1711315523117" class="java" data-ke-language="java" data-ke-type="codeblock"><code>package com.example.testspring;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class TestSpringApplication {
    public static void main(String[] args) {
        SpringApplication.run(TestSpringApplication.class, args);
    }
}</code></pre>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><span style="font-family: 'Nanum Gothic'; color: #000000;">#2 MVC &amp; Template Engine</span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #dddddd;">MVC</span>란 Model-View-Controller의 약자로, 세 가지 요소가 서로 독립적으로 기능하여 영향을 미치지 않게 하는 최근 서버 사이드 프로그래밍에서 주류로 사용되는 소프트웨어 공학 기법이다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #dddddd;">Controller</span>는 <b>외부의 요청을 입력받아 처리하는 역할을 담당하며, 처리한 결과를 Model에 저장한 뒤 해당 모델은 View로 전달</b>되어 사용자에게 보여진다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">이 때 View의 역할을 담당하는 엔진은 여러가지가 있지만, 이번 예제 에서는 <span style="background-color: #333333; color: #dddddd;">Thymeleaf Template Engine</span>을 사용한다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<h3 data-ke-size="size23"><span style="font-family: 'Nanum Gothic'; color: #000000;">#2.1 MVC와 정적 페이지의 차이점</span></h3>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">MVC 방식은 서버단에서 php, spring, ruby 등과 같은 백엔드 라이브러리를 통해 가공된 html 파일을 화면에 던져주지만, 정적 페이지 방식은 가공되지 않은 날것의 페이지를 사용자에게 보여준다.&nbsp;</span></p>
<p data-ke-size="size16">&nbsp;</p>
<h3 data-ke-size="size23"><span style="font-family: 'Nanum Gothic';"><span style="color: #000000;">#2.2 Controller</span><span style="color: #000000;"></span></span></h3>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #dddddd;">Controller</span>는 <b>화면과 요청 로직을 연결해 주는 브릿지 역할</b>을 수행하며, Controller를 작성할 경우 코드 위에 <span style="background-color: #333333; color: #dddddd;">@Controller</span> 이노테이션을 명시해 주어야 한다.&nbsp;</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b><span style="color: #781b33;">@Controller</span> </b>해당 코드가 컨트롤러 역할을 수행하는 코드임을 명시해주는 이노테이션 이다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b><span style="color: #781b33;">@GetMapping("경로")</span></b> 해당 경로로 들어온 GET 요청을 처리해 주는 이노테이션이다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="color: #781b33;"><b>return-value</b></span> : &nbsp;반환 값으로 문자열을 반환하며, 해당 반환값은 출력할 실제 페이지 이름이다.&nbsp;</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">아래 코드는 웹 어플리케이션 으로 부터 /hello 주소로 Get 요청이 들어오면 model 파라미터로 key-value 형태로 매핑한 뒤, hello.html 파일을 찾아 매핑한 key-value를 전달하는 코드이다.&nbsp;</span></p>
<p><figure class="imageblock alignLeft" width="295" height="132" >
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png" width="295" height="132"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<pre id="code_1711314502538" class="java" data-ke-language="java" data-ke-type="codeblock"><code>package com.example.testspring.controller;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

@Controller
public class HelloController {
    // 웹 어플리케이션에서, /hello 쿼리가 들어오면 해당 메서드를 호출해 준다.
    @GetMapping("hello")
    public String hello(Model model) {
        // model 내부로 들어간 값을 key-value 형태로 hello.html 파일로 전달한다.
        model.addAttribute("data","nov");
        return "hello";
    }
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">컨트롤러에서 리턴값을 반환하면 viewResolver가 resources/templates 내부에 있는 반환값과 일치하는 이름의 hello.html 페이지를 렌더링 해준다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #dddddd;">viewResolver</span>는 컨트롤러의 반환값과 일치하는 페이지를 찾아서 렌더링 하는 역할을 수행하며, 매핑 방식은 다음과 같다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #000000; text-align: start;" data-token-index="0">resources:templates/ + {viewName} + .html</span></p>
<p><figure class="imageblock alignLeft" width="326" height="124" >
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png" width="326" height="124"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">* <span style="text-align: start;">Thymeleaf Template Engine 방식으로 작성된 html 파일</span></span></p>
<pre id="code_1711315016534" class="java" data-ke-language="java" data-ke-type="codeblock"><code>&lt;!DOCTYPE HTML&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;title&gt;Hello&lt;/title&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF8"/&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p th:text="'welcome ' + ${data}"&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">스프링 서버 파일을 실행한 뒤 http://localhost:8080/hello 경로로 get 요청을 보내면, 다음과 같은 동적 페이지가 렌더링 된다.&nbsp;</span></p>
<p><figure class="imageblock alignLeft" width="405" height="253" >
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png" width="405" height="253"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<p data-ke-size="size16">&nbsp;</p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
