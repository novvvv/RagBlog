
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>[BOJ] C++ 9184 "신나는 함수 실행" 문제 풀이 _ nov</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">[BOJ] C++ 9184 "신나는 함수 실행" 문제 풀이 _ nov</h2>
                                <div class="box-info">
                                    <p class="category">? Archive/ProblemSolving</p>
                                    <p class="date">2022-07-05 17:50:11</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <h2 data-ke-size="size26"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#INFO</span></b></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">난이도 : <span style="background-color: #dddddd;">SILVER2</span></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">문제유형 : <span style="background-color: #333333; color: #dddddd;">재귀 , DP</span></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic';"><span style="color: #000000;">출처 :</span> <a href="https://www.acmicpc.net/problem/9184" target="_blank" rel="noopener">https://www.acmicpc.net/problem/9184</a></span></p>
<p><figure class="imageblock alignCenter" >
    <span data-lightbox="lightbox">
        <img src="./img/img.png"  />
    </span>
    <figcaption></figcaption>
</figure><figure class="imageblock alignCenter" >
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#SOLVE</span></b></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">문제에서 주어진 코드대로 재귀함수를 작성하면 시간초과가 발생한다. 따라서 <span style="background-color: #333333; color: #dddddd;">메모이제이션(Memoization)</span>이라는 기법을 사용해야 한다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #dddddd;">메모이제이션</span>이란, <span style="background-color: #dddddd;">컴퓨터 프로그램이 동일한 계산을 반복해야 할 때, 이전에 계산한 값을 메모리에 저장함으로 동일한 계산의 반복 수행을 제거하는 방식의 알고리즘</span> 기법이다.<span style="color: #781b33;"> <a style="color: #781b33;" href="https://novlog.tistory.com/93?category=860654" target="_blank" rel="noopener">_about Memoization</a></span></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">우선 문제에서 <span style="background-color: #dddddd;">base condition</span> (모든 재귀의 수렴 조건)을 제시해 주었기에 그대로 작성한다.</span></p>
<pre id="code_1657010580416" class="cpp" data-ke-language="cpp" data-ke-type="codeblock"><code>int recur_w(int a, int b, int c){
	// base condition
	if(a &lt;= 0 || b &lt;= 0 || c &lt;= 0) return 1;
	if(a &gt; 20 || b &gt; 20 || c &gt; 20) return recur_w(20, 20, 20);	
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">다음으로 나머지 조건은 앞서 설명한 메모이제이션 기법을 사용한다. 재귀의 결과를 저장할 cache 3차원 배열을 선언한 뒤, 재귀함수의 값이 구해지면 그 값을 cache 배열에 저장한다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">만약 다음 재귀 호출에서 cache에 저장된 값을 요구하면 재귀 호출을 멈추고, cache에 저장된 값을 return 한다.</span></p>
<pre id="code_1657010693930" class="cpp" data-ke-language="cpp" data-ke-type="codeblock"><code>int cache[21][21][21] = {0, };
int recur_w(int a, int b, int c){
	// base condition
	if(a &lt;= 0 || b &lt;= 0 || c &lt;= 0) return 1;
	if(a &gt; 20 || b &gt; 20 || c &gt; 20) return recur_w(20, 20, 20);
	// memoization ?
	// 컴퓨터 프로그램이 동일한 계산을 반복해야 할 때, 이전에 계산한 값을 메모리에 저장함으로
	// 동일한 계산의 반복 수행을 제거하는 알고리즘 _wikipedia
	if(cache[a][b][c] != 0) return cache[a][b][c];
	if(a &lt; b &amp;&amp; b &lt; c) {
		cache[a][b][c] = recur_w(a, b, c - 1) + recur_w(a, b - 1, c - 1)
			- recur_w(a, b - 1, c);
		return cache[a][b][c];
	}
	else {
		cache[a][b][c] = recur_w(a - 1, b, c) + recur_w(a - 1, b - 1, c)
			+ recur_w(a - 1, b, c - 1) - recur_w(a - 1, b - 1, c - 1);
		return cache[a][b][c];
	}
	
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">마지막으로 main 함수는 특별히 유의할 부분은 없는데, "BOJ9184 신나는 함수 실행" 문제는 입출력이 빈번한 문제이기에, <span style="background-color: #dddddd;">ios:sync_with_stdio(0); cin.tie(0); cout.tie(0);</span> 코드를 작성해 주도록 하자.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">위의 코드를 작성한 풀이와 작성하지 않은 풀이는 걸리는 시간이 크게 차이난다.</span></p>
<pre id="code_1657010812792" class="cpp" data-ke-language="cpp" data-ke-type="codeblock"><code>int main(){
	ios::sync_with_stdio(0);
	cin.tie(0); cout.tie(0);
	int a, b, c;
	while(true){
		cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
		if(a == -1 &amp;&amp; b == -1 &amp;&amp; c == -1) break;
		cout &lt;&lt; "w(" &lt;&lt; a &lt;&lt; ", " &lt;&lt; b &lt;&lt; ", " &lt;&lt; c &lt;&lt; ") = " &lt;&lt;
			recur_w(a, b, c) &lt;&lt; '\n';
	}
	return 0;
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000; background-color: #dddddd;">*입출력 제한 코드를 작성한 풀이</span></p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000; background-color: #dddddd;">*입출력 제한 코드를 작성하지 않은 풀이</span></p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#CODE</span></b></h2>
<pre id="code_1657010962098" class="cpp" data-ke-language="cpp" data-ke-type="codeblock"><code>#include &lt;iostream&gt;
using namespace std;

int cache[21][21][21] = {0, };
int recur_w(int a, int b, int c){
	// base condition
	if(a &lt;= 0 || b &lt;= 0 || c &lt;= 0) return 1;
	if(a &gt; 20 || b &gt; 20 || c &gt; 20) return recur_w(20, 20, 20);
	// memoization ?
	// 컴퓨터 프로그램이 동일한 계산을 반복해야 할 때, 이전에 계산한 값을 메모리에 저장함으로
	// 동일한 계산의 반복 수행을 제거하는 알고리즘 _wikipedia
	if(cache[a][b][c] != 0) return cache[a][b][c];
	if(a &lt; b &amp;&amp; b &lt; c) {
		cache[a][b][c] = recur_w(a, b, c - 1) + recur_w(a, b - 1, c - 1)
			- recur_w(a, b - 1, c);
		return cache[a][b][c];
	}
	else {
		cache[a][b][c] = recur_w(a - 1, b, c) + recur_w(a - 1, b - 1, c)
			+ recur_w(a - 1, b, c - 1) - recur_w(a - 1, b - 1, c - 1);
		return cache[a][b][c];
	}
	
}

int main(){
	ios::sync_with_stdio(0);
	cin.tie(0); cout.tie(0);
	int a, b, c;
	while(true){
		cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
		if(a == -1 &amp;&amp; b == -1 &amp;&amp; c == -1) break;
		cout &lt;&lt; "w(" &lt;&lt; a &lt;&lt; ", " &lt;&lt; b &lt;&lt; ", " &lt;&lt; c &lt;&lt; ") = " &lt;&lt;
			recur_w(a, b, c) &lt;&lt; '\n';
	}
	return 0;
}</code></pre>
                        </div>
                        <br/>
                        <div class="tags">
                            #C++ #알고리즘 #소스코드 #문제풀이 #dp #재귀 #BOJ #백준 #9184 #신나는함수실행 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
