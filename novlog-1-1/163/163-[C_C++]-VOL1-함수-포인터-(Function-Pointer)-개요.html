
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>[C/C++] VOL1 함수 포인터 (Function Pointer) 개요</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">[C/C++] VOL1 함수 포인터 (Function Pointer) 개요</h2>
                                <div class="box-info">
                                    <p class="category">? Archive/C&C++</p>
                                    <p class="date">2022-02-10 14:28:17</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p style="text-align: center;" data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000; background-color: #99cefa;">* 개인적인 공부 내용을 기록하는 용도로 작성한 글 이기에 잘못된 내용을 포함하고 있을 수 있습니다.</span></b></p>
<p style="text-align: center;" data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">* 다음 포스팅은 총 3편으로 나누어 정리할 예정입니다.</span></b></p>
<p style="text-align: center;" data-ke-size="size16">&nbsp;</p>
<p style="text-align: center;" data-ke-size="size18"><span style="color: #006dd7;"><b><span style="font-family: 'Nanum Gothic';">VOL1 함수 포인터 (Function Pointer) 개요</span></b></span></p>
<p style="text-align: center;" data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#1 함수 포인터란?</span></b></p>
<p style="text-align: center;" data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#2 함수 포인터 사용법</span></b></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#1 함수 포인터란?</span></b></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">포인터 문법을 이용하면 변수의 주소를 저장할 수 있습니다. 예를들어 아래와 같이 코드를 작성하면 int형 변수 val의 주소가 ptr에 저장됩니다.</span></p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<pre id="code_1644467172543" class="c++ arduino" data-ke-language="c++" data-ke-type="codeblock"><code>int val = 10;
int *ptr = &amp;val;
cout &lt;&lt; ptr &lt;&lt; endl;</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">그런데 변수 뿐만 아니라 함수도 주소를 가지고 있습니다.&nbsp; 실제로 함수의 이름을 %p 지정자로 출력해 보면 주소값이 출력됩니다.</span></p>
<pre id="code_1644468083224" class="c++ arduino" data-ke-language="c++" data-ke-type="codeblock"><code>#include &lt;iostream&gt;
using namespace std;

void hello()
{
	cout &lt;&lt; "Hello, World!" &lt;&lt; endl;
}

int main(){
	/* 함수의 주소 출력 */
	cout &lt;&lt; "-----print address-----" &lt;&lt; endl;
	printf("%p\n\n", hello);
	return 0;
}</code></pre>
<p data-ke-size="size16"><span style="color: #000000; font-family: 'Nanum Gothic'; letter-spacing: 0px;">함수도 주소를 가지고 있기에, 포인터를 사용할 수 있습니다. 즉, 함수의 주소를 포인터에 저장할 수 있게 되는 것입니다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">함수 포인터 문법을 이용하면 <b>함수의 파라미터로 함수를 보내거나 구조체 안에 함수를 선언하는 등</b> 보다 다채로운 프로그램을 작성할 수 있습니다. </span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">하지만 무엇보다 함수 포인터가 가장 유용하게 쓰이는 상황은 <span style="background-color: #333333; color: #ffffff;">"콜백함수" CallBack Function</span> 의 구현입니다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">콜백함수란 간단하게 요약하면 <b>함수의 동작만을 구현해 놓은 함수</b>입니다. 콜백함수는 게임의 인터페이스 혹은 API 등에서 자주 사용되는데 자세한 내용은 추후에 정리 하도록 하겠습니다.</span></p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2 data-ke-size="size26"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">#2 함수 포인터 사용법</span></b></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">함수 포인터의 기본적인 정의 구조는 아래와 같습니다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><span style="background-color: #333333; color: #ffffff;"><b>definition</b></span> : <span style="background-color: #333333; color: #ffffff;">반환값자료형 (*함수포인터 이름)(매개변수 자료형1, 매개변수 자료형2);</span></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">단, 유의할 점은&nbsp;함수 포인터 선언 시 <b>함수 포인터와 저장될 함수의 반환값 자료형, 매개변수 자료형과 개수가 일치해야 합니다.</b></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;">여기서 반환값과 매개변수가 없는 함수 포인터를 선언하고자 한다면 아래처럼 반환값에는 void를 매개변수 자료형은 비워서 작성해 주면 됩니다.</span></p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #000000;">void (*ptr)()</span></b></p>
<pre id="code_1644468327789" class="c++ arduino" data-ke-language="c++" data-ke-type="codeblock"><code>#include &lt;iostream&gt;
using namespace std;

void hello()
{
	cout &lt;&lt; "Hello, World!" &lt;&lt; endl;
}

void hello2()
{
	cout &lt;&lt; "Hello, World!!\n" &lt;&lt; endl;
}

int main(){
	/* 반환값과 매개변수가 없는 함수 포인터 */
	cout &lt;&lt; "-----print void(*fp)() -----" &lt;&lt; endl;
	void (*fp)();
	fp = hello;
	fp();
	fp = hello2;
	fp();
	return 0;
}</code></pre>
<pre id="code_1644468500199" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>-----print void(*fp)() -----
Hello, World!
Hello, World!!</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b>void(*ptr)()</b> - 함수 포인터 선언</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b>fp = hello</b> - hello() 함수의 주소를 포인터에 저장</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b>fp()</b> - 함수 포인터를 이용해 hello() 함수를 호출</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_4.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b>fp = hello2</b> - hello2() 함수의 주소를 포인터에 저장</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_5.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #000000;"><b>fp()</b> - 함수 포인터를 이용해 hello2() 함수를 호출</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #000000; font-family: 'Nanum Gothic';">반환값과 매개변수가 있는 함수 포인터도 사용방법은 다르지 않습니다.</span></p>
<p data-ke-size="size16"><span style="color: #000000; font-family: 'Nanum Gothic';">아래는 함수 포인터에 add 함수와 mul 함수의 주소를 저장해 출력시킨 예제입니다.</span></p>
<pre id="code_1644470092430" class="c++ arduino" data-ke-language="c++" data-ke-type="codeblock"><code>#include &lt;iostream&gt;
using namespace std;

int add(int x, int y)
{
	return x + y;
}

int mul(int x, int y)
{
	return x * y;
}

int main(){
	/* 반환값과 매개변수가 있는 함수 포인터 */
	cout &lt;&lt; "-----print int(*fp2)(int,int)-----" &lt;&lt; endl;
	int (*fp2)(int, int); // return value : int , parameter : int int
	fp2 = add;
	cout &lt;&lt; fp2(10, 20) &lt;&lt; endl;
	fp2 = mul;
	cout &lt;&lt; fp2(10, 20) &lt;&lt; endl;
	return 0;
}</code></pre>
<pre id="code_1644470334749" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>-----print int(*fp2)(int,int)-----
30
200</code></pre>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
                        </div>
                        <br/>
                        <div class="tags">
                            #함수포인터 #함수포인터사용이유 #functionpointer 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
