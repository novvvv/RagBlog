
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>[NextJS] Client To Server Data 전송 방식 정리</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">[NextJS] Client To Server Data 전송 방식 정리</h2>
                                <div class="box-info">
                                    <p class="category">Front-end/Next.js</p>
                                    <p class="date">2025-07-08 17:21:11</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">NextJS 환경에서 클라이언트(브라우저) 단에서 서버단으로 데이터를 전송하는 방식은 아래와 같이 크게 4가지로 구분할 수 있다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; background-color: #c0d1e7;">1. &lt;Form&gt; 태그를 활용한 전송</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; background-color: #c0d1e7;">2. Query String</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; background-color: #c0d1e7;">3. 다이나믹 라우팅 + URL Parameter</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; background-color: #c0d1e7;">4. fetch API를 사용해 body에 직접 데이터를 넣어서 전송하기&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">이번 포스팅에서는 위 4가지 방식의 장단점 그리고 사용 방법에 대해서 간략하게 정리하고자 한다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><span style="font-family: 'Nanum Gothic'; color: #333333;">1. &lt;Form&gt; 태그를 활용한 전송&nbsp;</span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><b>page.js</b></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">form tag <span style="background-color: #c0d1e7;">method 속성에 HTTP Method</span>를 정의, <span style="background-color: #c0d1e7;">action 속성에 api 요청 주소</span>를 명시한다.</span></p>
<pre id="code_1751960736075" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>export default function ServerComponent() {
  return (
    &lt;div&gt;
      &lt;form method="POST" action="/api/login"&gt;
        &lt;input name="username" placeholder="ID" required /&gt;
        &lt;input name="password" type="password" placeholder="PW" required /&gt;
        &lt;button type="submit"&gt;로그인&lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><b>login api</b></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">page.js로부터 입력받은 ID, PW 정보가 Json 형태로 브라우저에 반환된다. </span></p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<pre id="code_1751960871648" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>export default function handler(req, res) {
  if (req.method === 'POST') {
    const { username, password } = req.body
    res.status(200).json({ msg: '로그인 처리 완료', username, password })
  }
}</code></pre>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">사용 상황</span></b></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">로그인, 회원가입, 주문, 배송 등 <span style="background-color: #c0d1e7;">특정 폼을 사용한 양식을 제출할 때 사용하면 용이</span>하다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">사용자와 웹사이트 혹은 어플리케이션간 상호 작용할 때 빈번하게 사용되는 태그로 페이지가 재랜더링 된다는 단점이 있다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">자세한 사용 방법은 아래 블로그를 참고하자.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><a style="color: #333333;" href="https://inpa.tistory.com/entry/HTML-%F0%9F%93%9A-%ED%8F%BCForm-%ED%83%9C%EA%B7%B8-%EC%A0%95%EB%A6%AC" target="_blank" rel="noopener&nbsp;noreferrer">https://inpa.tistory.com/entry/HTML-%F0%9F%93%9A-%ED%8F%BCForm-%ED%83%9C%EA%B7%B8-%EC%A0%95%EB%A6%AC</a></span></p>
<figure id="og_1751961181806" contenteditable="false" data-ke-type="opengraph" data-ke-align="alignCenter" data-og-type="article" data-og-title="?️ 폼(Form) 태그 양식 &amp; 종류 - 한방 정리" data-og-description="폼(Form) 양식 HTML 에선 브라우저의 내장 요소를 사용하여 웹 양식에 대한 지원을 제공한다. 예를들어 우리가 특정 사이트에 로그인 할때 아래와 같이 계정 아이디와 비밀번호를 입력하는 화면을 " data-og-host="inpa.tistory.com" data-og-source-url="https://inpa.tistory.com/entry/HTML-%F0%9F%93%9A-%ED%8F%BCForm-%ED%83%9C%EA%B7%B8-%EC%A0%95%EB%A6%AC" data-og-url="https://inpa.tistory.com/entry/HTML-%F0%9F%93%9A-%ED%8F%BCForm-%ED%83%9C%EA%B7%B8-%EC%A0%95%EB%A6%AC" data-og-image="https://scrap.kakaocdn.net/dn/UDGyg/hyZjya5KkM/AD1z5SYFltqjR2D3T2PNNk/img.jpg?width=800&amp;height=450&amp;face=0_0_800_450,https://scrap.kakaocdn.net/dn/c19YJc/hyZjvFrjUO/g6gIFX91wxgX1JScqu6rek/img.jpg?width=800&amp;height=450&amp;face=0_0_800_450,https://scrap.kakaocdn.net/dn/gNZWM/hyZfZ2tewc/MkFe2XBBykrvcpQ4pNB0sk/img.png?width=992&amp;height=406&amp;face=0_0_992_406"><a href="https://inpa.tistory.com/entry/HTML-%F0%9F%93%9A-%ED%8F%BCForm-%ED%83%9C%EA%B7%B8-%EC%A0%95%EB%A6%AC" target="_blank" rel="noopener" data-source-url="https://inpa.tistory.com/entry/HTML-%F0%9F%93%9A-%ED%8F%BCForm-%ED%83%9C%EA%B7%B8-%EC%A0%95%EB%A6%AC">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/UDGyg/hyZjya5KkM/AD1z5SYFltqjR2D3T2PNNk/img.jpg?width=800&amp;height=450&amp;face=0_0_800_450,https://scrap.kakaocdn.net/dn/c19YJc/hyZjvFrjUO/g6gIFX91wxgX1JScqu6rek/img.jpg?width=800&amp;height=450&amp;face=0_0_800_450,https://scrap.kakaocdn.net/dn/gNZWM/hyZfZ2tewc/MkFe2XBBykrvcpQ4pNB0sk/img.png?width=992&amp;height=406&amp;face=0_0_992_406');">&nbsp;</div>
<div class="og-text">
<p class="og-title" data-ke-size="size16">?️ 폼(Form) 태그 양식 &amp; 종류 - 한방 정리</p>
<p class="og-desc" data-ke-size="size16">폼(Form) 양식 HTML 에선 브라우저의 내장 요소를 사용하여 웹 양식에 대한 지원을 제공한다. 예를들어 우리가 특정 사이트에 로그인 할때 아래와 같이 계정 아이디와 비밀번호를 입력하는 화면을</p>
<p class="og-host" data-ke-size="size16">inpa.tistory.com</p>
</div>
</a></figure>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><span style="font-family: 'Nanum Gothic'; color: #333333;">2. Query String</span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">별도의 메시지 바디가 존재하지 않으며, <span style="background-color: #c0d1e7;">Url에 데이터 정보를 포함시켜 ?Key=value 형식으로 데이터를 전송</span>하는 방식이다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">&amp;구분자를 사용해 다량의 key-value쌍을 보내는것 또한 가능하다.&nbsp;</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">page.js</span></b></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">JS의 fetch API를 사용해야 하기에 <span style="background-color: #c0d1e7;">Client Component로 생성</span>해 주어야 한다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">Client Component와 Server Component의 차이점은 아래 포스팅을 참고하자.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><a style="color: #333333;" href="https://novlog.tistory.com/entry/Nextjs-Client-Component-vs-Server-Component" target="_blank" rel="noopener&nbsp;noreferrer">https://novlog.tistory.com/entry/Nextjs-Client-Component-vs-Server-Component</a></span></p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<pre id="code_1751961481968" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>'use client'
export default function ClientComponent() {
  return (
    &lt;div&gt;
          &lt;span onClick = {(e) =&gt; {
            fetch('/api/test?name=kim&amp;age=20')
          }}&gt;Send&lt;/span&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">pages/api/test.js</span></b></p>
<p><figure class="imageblock alignLeft" width="435" height="93" >
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png" width="435" height="93"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<pre id="code_1751961555797" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>export default function handler(request, response) {
    console.log(request.query)
    return response.status(200).json()
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><span style="background-color: #c0d1e7;">request parameter의 query property</span>에 접근하면 Client단에서 보낸 Query String에 접근 가능하다</span></p>
<pre id="code_1751961668781" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>{ name: 'kim', age: '20' }</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">사용 상황</span></b></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><span style="background-color: #c0d1e7;">단순 페이지 정렬, 검색, 필터링, 페이징 등에서 자주 사용</span>되는 기법이다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">GET 요청임에도 불구하고 데이터를 서버로 전송할 수 있으며 무엇보다 간편하다는 장점이 있지만</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; background-color: #c0d1e7;">Url에 데이터가 노출되기에 비밀번호와 같은 민감한 정보는 절대로 쿼리 스트링 방식을 사용해서는 안된다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><span style="font-family: 'Nanum Gothic'; color: #333333;">3. 다이나믹 라우팅 + Url Parameter&nbsp;</span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">NextJS의 다이나믹 라우팅 기법을 사용해 URL Parameter로 데이터를 전송하는 기법이다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">다이나믹 라우팅이란 <span style="background-color: #c0d1e7;">api 주소를 [ ] 대괄호로 묶어주면 [ ] 안에 어떠한 요청 문자열이 들어와도 해당 코드로 라우팅 시켜주는</span> 기법이다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">예시로 폴더 구조가 아래 사진과 같이 되어있다고 가정해 보자.</span></p>
<p><figure class="imageblock alignLeft" >
    <span data-lightbox="lightbox">
        <img src="./img/img_4.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">만약 클라이언트단에서 api/abc/test로 api 요청이 들어와도 api/abc/test.js로 api 요청을 처리하며</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">api/abc/nov로 api 요청이 들어오면 api/abc/nov.js로 api 요청을 처리한다.</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">나머지 코드는 Query-String 방식과 동일하며, request.query로 접근해 요청 정보를 받아온다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">page.js</span></b></p>
<pre id="code_1751962098998" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>'use client'
export default function ClientComponent() {
  return (
    &lt;div&gt;
          &lt;span onClick = {(e) =&gt; {
            // fetch('/api/test?name=kim&amp;age=20')
            fetch('/api/abc/nov')
          }}&gt;Send&lt;/span&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">api/abc/[dynamic].js</span></b></p>
<pre id="code_1751962153789" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>export default function handler(request, response) {
    console.log(request.query)
    return response.status(200).json()
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">사용상황</span></b></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;"><span style="background-color: #c0d1e7;">REST API에 적합</span>한 방식이다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">예시로 특정 게시글의 id를 조회하는 경우에 다이나믹 라우팅 방식을 사용하면, 여러 개의 API를 명세할 필요 없이 단 하나의 js 파일로 게시글 조회와 관련된 post 요청을 모두 처리할 수 있다.&nbsp;</span></p>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><span style="font-family: 'Nanum Gothic'; color: #333333; text-align: start;">4. fetch API를 사용해 body에 직접 데이터를 넣어서 전송하기&nbsp;</span></h2>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; text-align: start;">JavaScript의 fetch API를 사용해 <span style="background-color: #c0d1e7;">body에 직접 데이터를 넣어 전송</span>하는 방법이다. </span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; text-align: start;">fetch의 첫 번째 파라미터에 url 주소를 작성한 뒤, 두 번째 파라미터에 객체 형식으로 method 속성에는 메서드 타입을, body에는 전송할 데이터를 명시한다. </span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333; text-align: start;">fetch API와 관련된 자세한 내용을 추후에 따로 정리할 예정이다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333; text-align: start;">page.js</span></b></p>
<p data-ke-size="size16">&nbsp;</p>
<pre id="code_1751962428958" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>'use client'
export default function ClientComponent() {
  return (
    &lt;span onClick = {(r) =&gt; {
      fetch('/api/test', {
          method: 'POST',
          body: "Hello Nov"
      }).then((r) =&gt; {
          return r.json()
      })
    }}&gt;Send&lt;/span&gt;
  );
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-family: 'Nanum Gothic'; color: #333333;">api/test.js</span></b></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic'; color: #333333;">fetch는 비동기 방식으로 동작하기에 handler 함수에 <span style="background-color: #c0d1e7;">async</span> 키워드를 붙여주자</span></p>
<pre id="code_1751962550803" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>export default async function handler(request, response) {
    if (request.method == 'POST') {
        console.log(request.body)
        response.status(200).json("Post Request Compelete")
    }
}</code></pre>
<pre id="code_1751962580073" class="javascript" data-ke-language="javascript" data-ke-type="codeblock"><code>Hello Nov</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic';"><b>사용 상황</b></span></p>
<p data-ke-size="size16"><span style="font-family: 'Nanum Gothic';">댓글 작성, DB 입출력 등 <span style="background-color: #c0d1e7;">비동기처리가 필요한 기능</span>에 사용하면 된다.</span></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
